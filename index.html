<!DOCTYPE html>
<html lang="ja">
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=M+PLUS+1+Code:wght@500&family=M+PLUS+1p:wght@900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<head>
    <meta charset="UTF-8">
    <title>MEGANE</title>
</head>

<body id="body">
    <div id="loading">
        <div id="loading_anim">
            <div id="notes_div">
                <div id="anim_1" class="anim_notes"></div>
                <div id="anim_2" class="anim_notes"></div>
                <div id="anim_3" class="anim_notes"></div>
                <div id="anim_4" class="anim_notes"></div>
            </div>
            <div id="bombs_div">
                <div id="bomb_1" class="anim_bombs"></div>
                <div id="bomb_2" class="anim_bombs"></div>
                <div id="bomb_3" class="anim_bombs"></div>
                <div id="bomb_4" class="anim_bombs"></div>
            </div>
        </div>
    </div>
    <div id="index">
        <h2>1から作る場合はここに.oggファイルをドロップ</h2>
        <div id="oggfile_drop">
            <div id="inner_oggfile_drop">
                <p>ここに.oggファイルをドロップ</p>
                または <input type="file" name="file" id="oggfile_input" accept=".ogg">
            </div>
        </div>
    </div>
    <div id="4k">
        <div style="display: flex;">
            <div id="menu">
                <button id="select_notes" class="button">
                    <span class="rotate_symbols material-symbols-outlined">
                        edit
                    </span>
                    <div id="select_notes_hover" class="button_hover">
                        <div id="select_notes_submenu" class="submenu">
                            <div class="subbutton_main">
                                <span class="rotate_symbols material-symbols-outlined">
                                    edit
                                </span>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(0);'>
                                <li class="material-symbols-outlined">
                                    crop_16_9
                                </li>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(1);'>
                                <li class="material-symbols-outlined">
                                    crop_portrait
                                </li>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(2);'>
                                <li class="material-symbols-outlined">
                                    delete
                                </li>
                            </div>
                        </div>
                    </div>
                </button>
                <br>
                <button id="tool_notes" class="button">
                    <span class="rotate_symbols material-symbols-outlined">
                        tools_wrench
                    </span>
                    <div id="tool_notes_hover" class="button_hover">
                        <div id="tool_notes_submenu" class="submenu">
                            <div class="subbutton_main">
                                <span class="rotate_symbols material-symbols-outlined">
                                    tools_wrench
                                </span>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(3);'>
                                <li class="material-symbols-outlined">
                                    select_all
                                </li>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(4);'>
                                <li class="material-symbols-outlined">
                                    content_copy
                                </li>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(5);'>
                                <li class="material-symbols-outlined">
                                    cut
                                </li>
                            </div>
                            <div class="subbutton" onclick='changeNotesMode(6);'>
                                <li class="material-symbols-outlined">
                                    content_paste
                                </li>
                            </div>
                        </div>
                    </div>
                </button>
                <br>
                <button id="info" class="button">
                    <span class="material-symbols-outlined rotate_symbols">
                        feed
                    </span>
                    <div id="info_hover" class="button_hover">
                        <div id="info_submenu" class="submenu">
                            <div class="subbutton_main">
                                <span class="rotate_symbols material-symbols-outlined">
                                    feed
                                </span>
                            </div>
                            <div class="subbutton" onclick='openDialog(0);'>
                                <li class="material-symbols-outlined">
                                    music_note
                                </li>
                            </div>
                        </div>
                    </div>
                </button>
                <div id="split">
                    <button id="split_dec" class="split_button" onclick='changeSplit(-1);'>-</button>
                    <div id="split_num">4</div>
                    <button id="split_inc" class="split_button" onclick='changeSplit(1);'>+</button>
                </div>
            </div>
            <div id="chart">
                <a id="chart_start">
                    <div id="start-0" class="start column0"></div>
                    <div id="start-1" class="start column1"></div>
                    <div id="start-2" class="start column2"></div>
                    <div id="start-3" class="start column3"></div>
                </a>
            </div>
            <div id="settings">
                <span id="settings_button" class="material-symbols-outlined" onclick='openDialog(1);'>
                    settings
                </span>
            </div>

            <dialog id="info_dialog" class="dialog">
                <label>譜面のBPM
                    <input id="bpm" type="number">
                    <button onclick="autocompBPM();">自動検出</button>
                </label>
                <br>
                <label>譜面のOffset
                    <input id="offset" type="number">
                </label>
                <span class="material-symbols-outlined close" onclick="closeDialog(0);">
                    close
                </span>
            </dialog>

            <dialog id="settings_dialog" class="dialog">
                <h1>譜面設定</h1>
                <label>1小節の拍数を細かく変更する
                    <input type="checkbox" id="setting_detail_split">
                </label>
                <h1>キーバインド設定</h1>
                <button onclick="">変更する</button>
                <span class="material-symbols-outlined close" onclick="closeDialog(1);">
                    close
                </span>
            </dialog>
        </div>
    </div>
</body>
<!-- librabruy -->
<script type="text/javascript" src="dist/jszip.js"></script>
<script type="text/javascript" src="dist/FileSaver.js"></script>
<!-- Scripts -->
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/loading.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" src="js/4k.js"></script>
<link rel="stylesheet" href="css/loading.css">
<link rel="stylesheet" href="css/index.css">
<link rel="stylesheet" href="css/4k.css">
<!-- Onload -->
<script>
    location.hash = "";
    changePage('index');
    changeNotesMode(0);
</script>

</html>